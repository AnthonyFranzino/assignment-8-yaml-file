openapi: 3.0.1
info:
  title: Payment Processing API
  version: 1.0.0
  description: >
    Processes payments for movie-ticket bookings.
    create payment, retrieve payment details, and cancel payments.
paths:
  /payments:
    post:
      summary: Create payment for a booking
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [bookingId, amount, currency, paymentMethod]
              properties:
                bookingId: { type: string, description: Booking being paid for }
                amount: { type: number, format: float }
                currency: { type: string, example: USD }
                paymentMethod: { type: string, description: creditCard, paypal, etc. }
                cardNumber: { type: string, example: "1234123412341234"}
                expirationDate: { type: string, example: "12/31" }
                cvv: { type: string, example: "123" }
      responses:
        '201':
          description: payment successfully created
          content:
            application/json:
              schema:
                type: object
                properties:
                  paymentId: { type: string }
                  status: { type: string }
        '400': { description: invalid request }
        '402': { description: card declined }
  /payments/{paymentId}:
    get:
      summary: retrieve details of a payment
      parameters:
        - in: path
          name: paymentId
          required: true
          schema: { type: string }
          description: unique ID of the payment being retrieved
      responses:
        '200':
          description: payment details retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  paymentId: { type: string }
                  bookingId: { type: string }
                  amount: { type: number, format: float }
                  currency: { type: string }
                  status: { type: string }
                  paymentMethod: { type: string }
                  transactionDate: { type: string, format: date-time }
        '404': { description: payment not found }
    delete:
      summary: cancel a payment
      parameters:
        - in: path
          name: paymentId
          required: true
          schema: { type: string }
          description: Unique ID of the payment to cancel.
      responses:
        '200': { description: payment successfully canceled }
        '404': { description: payment not found }
        '409': { description: payment cannot be canceled }
        '500': { description: Server error }
